<div class="container mt-4">
  <div class="row">
    <div class="col-md-6">
      <div>
        <img src="../assets/image/mes_im/sign.jpg" alt="Image" style="width: 550px; height: 600px; margin-left: 10px;">
      </div>
    </div>
    <div class="col-md-6" style="margin-top: 110px;">
      <div style="border-radius: 35px; border-color: rgb(102, 168, 249);">
        <div class="card-body">
          <h5 class="card-title" style="text-align: center; font-size: 40px;">Sign up</h5>

          <form [formGroup]="userForm" (ngSubmit)="onSignUp()">
            <div class="form-group">
              <label for="usernameField">Nom Utilisateur:</label>
              <input [class.is-invalid]="userForm.get('username')?.invalid && (userForm.get('username')?.dirty || userForm.get('username')?.touched)"
                     type="text" id="usernameField" name="username" class="form-control" formControlName="username">
              <div *ngIf="userForm.get('username')?.invalid && (userForm.get('username')?.dirty || userForm.get('username')?.touched)">
                <div *ngIf="userForm.get('username')?.errors?.['required']">
                  Nom d'utilisateur requis.
                </div>
              </div>
            </div>
          
            <div class="form-group">
              <label for="emailField">Email:</label>
              <input [class.is-invalid]="userForm.get('email')?.invalid && (userForm.get('email')?.dirty || userForm.get('email')?.touched)"
                     type="email" id="emailField" name="email" class="form-control" formControlName="email">
              
              <small  *ngIf="errorMessage" class="text-danger">{{ errorMessage }}</small>
              
              <div *ngIf="userForm.get('email')?.invalid && (userForm.get('email')?.dirty || userForm.get('email')?.touched)">
                <div *ngIf="userForm.get('email')?.errors?.['required']">
                  L'email est requis.
                </div>
                <div *ngIf="userForm.get('email')?.errors?.['pattern']">
                  Veuillez saisir un e-mail valide avec le bon format.
                </div>
              </div>
            </div>
           

            <div class="form-group">
              <label for="passwordField">Mot de passe:</label>
              <input [class.is-invalid]="userForm.get('password')?.invalid && (userForm.get('password')?.dirty || userForm.get('password')?.touched)"
                     type="password" id="passwordField" name="password" class="form-control" formControlName="password">
              <div *ngIf="userForm.get('password')?.invalid && (userForm.get('password')?.dirty || userForm.get('password')?.touched)">
                <div *ngIf="userForm.get('password')?.errors?.['required']">
                  Mot de passe requis.
                </div>
              </div>
            </div>
            
            <div class="form-group">
              <label for="confirmPasswordField">Confirmer mot de passe:</label>
              <input [class.is-invalid]="userForm.get('confirmPassword')?.invalid && (userForm.get('confirmPassword')?.dirty || userForm.get('confirmPassword')?.touched)"
                     type="password" id="confirmPasswordField" name="confirmPassword" class="form-control" formControlName="confirmPassword">
              <div *ngIf="userForm.get('confirmPassword')?.invalid && (userForm.get('confirmPassword')?.dirty || userForm.get('confirmPassword')?.touched)">
                <div *ngIf="userForm.get('confirmPassword')?.errors?.['passwordMismatch']">
                  Les mots de passe ne correspondent pas.
                </div>
              </div>
            </div>
            
          
            <div class="row justify-content-center">
              <button mat-button type="submit" color="primary" [disabled]="userForm.invalid">Sign up</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
